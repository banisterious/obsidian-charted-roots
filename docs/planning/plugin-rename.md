# Plugin Rename: Canvas Roots → Charted Roots

Planning document for renaming the plugin from "Canvas Roots" to "Charted Roots".

- **Status:** Planning
- **GitHub Issue:** [#141](https://github.com/banisterious/obsidian-canvas-roots/issues/141)
- **Created:** 2026-01-05
- **Community Discussion:** [#58](https://github.com/banisterious/obsidian-canvas-roots/discussions/58)

---

## Overview

Community feedback indicates the current name "Canvas Roots" creates confusion about the plugin's scope. This document outlines the plan for renaming to "Charted Roots" while maintaining backward compatibility.

### Goals

1. **Clarify plugin scope** — Name should reflect broader genealogical visualization capabilities
2. **Maintain backward compatibility** — Existing user vaults continue working without modification
3. **Preserve technical continuity** — Keep `cr-` prefixes for CSS and properties
4. **Minimize disruption** — Single coordinated update across all touchpoints

### Non-Goals

- Changing internal variable names (no breaking changes)
- Modifying CSS class prefixes (`cr-*` preserved)
- Altering property names (`cr_*` preserved for compatibility)
- Requiring user vault modifications

---

## Problem Statement

**Community feedback highlights:**
- "Canvas" suggests the plugin only works with Obsidian Canvas
- Traditional family tree users may not realize the plugin supports their workflow
- The name doesn't reflect capabilities beyond canvas visualization
- Potential users searching for genealogy plugins may miss it

**Evidence from Discussion #58:**
- Multiple users expressed initial confusion about whether non-canvas features existed
- Interest in renaming to better reflect multi-visualization approach
- Consensus around keeping "Roots" in the name

---

## Proposed Solution

Rename to **Charted Roots** because:

- **Broader applicability:** Encompasses charts, trees, graphs, networks, and canvas visualizations
- **Preserves brand identity:** Keeps "Roots" and starts with 'C'
- **Technical continuity:** Maintains `cr-` prefix for CSS BEM and properties
- **Cross-use-case:** Works for genealogy, worldbuilding, organizational charts
- **Searchability:** "Charted" relates to genealogical charts, family trees, relationship mapping
- **No naming conflicts:** No established tools or standards use this name

---

## Implementation Plan

### Phase 1: Code and Documentation Updates

#### 1.1 Plugin Metadata (3 files)

- [ ] `manifest.json`
  - [ ] `id`: `canvas-roots` → `charted-roots`
  - [ ] `name`: `Canvas Roots` → `Charted Roots`
- [ ] `package.json`
  - [ ] `name`: `obsidian-canvas-roots` → `obsidian-charted-roots`
  - [ ] Add `"canvas-roots"` to keywords for searchability
- [ ] `versions.json` — No changes needed (historical record)

#### 1.2 TypeScript Code - User-Facing Strings

**main.ts** (~134 occurrences):
- [ ] Console messages (2): `Loading/Unloading Canvas Roots plugin`
- [ ] Ribbon icon tooltip (1): `Open Canvas Roots control center`
- [ ] Menu item titles (~120): All `.setTitle('Canvas Roots: ...')` prefixes
- [ ] Notice messages (2): `This canvas does not contain Canvas Roots tree data`

**Report generators** (14 files, ~14 occurrences):
- [ ] `src/reports/services/pdf-report-renderer.ts` — Page header/footer
- [ ] `src/reports/services/source-summary-generator.ts` — `*Generated by Canvas Roots*`
- [ ] `src/reports/services/collection-overview-generator.ts`
- [ ] `src/reports/services/ahnentafel-generator.ts`
- [ ] `src/reports/services/individual-summary-generator.ts`
- [ ] `src/reports/services/descendant-chart-generator.ts`
- [ ] `src/reports/services/place-summary-generator.ts`
- [ ] `src/reports/services/media-inventory-generator.ts`
- [ ] `src/reports/services/register-report-generator.ts`
- [ ] `src/reports/services/timeline-generator.ts`
- [ ] `src/reports/services/gaps-report-generator.ts`
- [ ] `src/reports/services/universe-overview-generator.ts`
- [ ] `src/reports/services/family-group-sheet-generator.ts`
- [ ] `src/reports/services/pedigree-chart-generator.ts`

**Exporter files** (comments only):
- [ ] `src/gedcomx/*.ts` — File header comments, export source app name
- [ ] `src/csv/*.ts` — File header comments
- [ ] `src/excalidraw/excalidraw-exporter.ts` — Source URL in exports

**Other user-visible**:
- [ ] `src/maps/services/geocoding-service.ts` — User-Agent string
- [ ] `src/trees/ui/unified-tree-wizard-modal.ts` — Default canvas folder path

#### 1.3 TypeScript Code - Technical Identifiers (MIGRATE WITH COMPATIBILITY)

**Decision:** Migrate to `charted-roots` with backward compatibility via dual-registration and one-time vault migration.

**Migration Strategy:**

| Identifier Type | Strategy | Reason |
|-----------------|----------|--------|
| Protocol handlers | Dual-register both old and new | External bookmarks/links may use old format |
| Command IDs | Dual-register both old and new | User hotkeys may reference old IDs |
| View types | Migrate to new | Internal to plugin |
| Code block types | Migrate files + register both processors | Existing markdown files need updating |
| Canvas metadata | Migrate files | One-time update to canvas JSON |
| CSS classes | Migrate in styles.css | User snippets are their responsibility |
| ID generation | Migrate to new | Only affects new IDs |

**Files to update:**

- [ ] Protocol handlers (dual-register): `canvas-roots-map`, `canvas-roots-timeline`, etc.
- [ ] Workspace events: `canvas-roots:open-control-center` → `charted-roots:open-control-center`
- [ ] Command IDs (dual-register): All `canvas-roots:*` commands
- [ ] View types: `canvas-roots-map`, `canvas-roots-statistics` → `charted-roots-*`
- [ ] Code block types: `canvas-roots-timeline`, `canvas-roots-relationships`, `canvas-roots-media`
- [ ] Canvas metadata: `plugin: 'canvas-roots'` → `plugin: 'charted-roots'`
- [ ] CSS classes: `.canvas-roots-control-center`, `.canvas-roots-container`
- [ ] ID generation: `canvas-roots-${Date.now()}` → `charted-roots-${Date.now()}`

**New file to create:**
- [ ] `src/migration/canvas-roots-migration-service.ts` — One-time vault migration service

#### 1.4 CSS/Styles (1 file)

- [ ] `styles.css`
  - [ ] File header comments (~5 occurrences)
  - [ ] Style Settings plugin metadata: `name: Canvas Roots`, `id: canvas-roots`
  - [ ] GitHub URL in comments
  - [ ] Keep `.canvas-roots-*` class names unchanged

#### 1.5 GitHub Templates (3 files)

- [ ] `.github/ISSUE_TEMPLATE/bug_report.md` — Plugin name, URLs
- [ ] `.github/ISSUE_TEMPLATE/config.yml` — URLs, plugin name
- [ ] `.github/ISSUE_TEMPLATE/feature_request.md` — Check for references

#### 1.6 Documentation - Markdown Files

**Root docs** (~5 files):
- [ ] `README.md` — Title, badges, all references; add "Formerly Canvas Roots" note
- [ ] `CONTRIBUTING.md` — Plugin name references
- [ ] `CHANGELOG.md` — Title line (keep historical entries as-is)
- [ ] `SECURITY.md` — Check for references
- [ ] `LICENSE` — No changes needed

**Wiki content** (87 files with `canvas-roots` references):
- [ ] `wiki-content/*.md` — All wiki pages (URLs, plugin name)

**Planning docs** (~20 files):
- [ ] `docs/planning/*.md` — URLs, plugin name
- [ ] This file itself

**Developer docs**:
- [ ] `docs/developer/**/*.md` — URLs, plugin name

**Research docs**:
- [ ] `docs/research/*.md` — URLs, plugin name

**Not changed:**
- CSS class prefixes (`cr-*`)
- Property prefixes (`cr_*`)
- Internal variable/function names
- Code block type names (`canvas-roots-timeline`)
- Protocol handlers
- Command IDs

### Phase 2: Repository and External Updates

#### 2.1 GitHub Repository

- [ ] Rename repository: `obsidian-canvas-roots` → `obsidian-charted-roots`
  - GitHub automatically redirects old URLs
- [ ] Update repository metadata:
  - [ ] Description
  - [ ] Topics/tags (add `charted-roots`, keep `canvas-roots` temporarily)
  - [ ] About section

#### 2.2 Obsidian Community Plugins

- [ ] Update PR in `obsidian-releases` repo
  - [ ] Change plugin ID in `community-plugins.json`
  - [ ] Update repo URL (if renamed before PR merge)

#### 2.3 External Communication

- [ ] Announcement in Discussions
- [ ] Close issue #141 with summary

### Phase 3: Release and Communication

- [ ] Bump version to v0.19.0
- [ ] Update CHANGELOG.md with rename entry
- [ ] Create GitHub release with migration notes
- [ ] Verify plugin appears correctly in Community Plugins

---

## Implementation Summary

| Category | Files | Occurrences | Strategy |
|----------|-------|-------------|----------|
| Plugin metadata | 2 | 4 | Manual edit |
| main.ts menu items | 1 | ~120 | Find/replace `"Canvas Roots:` → `"Charted Roots:` |
| main.ts other | 1 | ~14 | Manual review |
| Report generators | 14 | ~14 | Find/replace `Canvas Roots` |
| Exporter comments | 6 | ~15 | Find/replace |
| styles.css | 1 | ~8 | Manual edit (preserve class names) |
| GitHub templates | 3 | ~5 | Manual edit |
| Root markdown | 5 | varies | Manual edit |
| Wiki content | 87 | varies | Bulk find/replace + review |
| Planning docs | ~20 | varies | Bulk find/replace |
| Developer docs | varies | varies | Bulk find/replace |

**Total estimated:** ~140 files, ~300+ string replacements

**Automation approach:**
1. Use `sed` or script for bulk `.md` file updates
2. Use IDE find/replace for `.ts` files (review each)
3. Manual review for metadata files

## Migration Notes

### For Users

**What changes:**
- Plugin name in settings/community plugins list
- Documentation and README references

**What stays the same:**
- All your vault data and notes
- All CSS classes and styling
- All property names
- All plugin functionality
- All settings and configurations

**Action required:** None. Update normally.

### For Developers

**Breaking changes:** None

**Compatibility:**
- CSS selectors using `cr-*` classes continue to work
- Properties with `cr_*` prefix continue to work
- All APIs and interfaces unchanged
- Custom snippets/themes remain compatible

---

## Testing Plan

Before release:
1. Test fresh install with new name
2. Test update from Canvas Roots to Charted Roots
3. Verify all documentation links work
4. Verify GitHub redirect from old repo URL
5. Test Community Plugins search/discovery
6. Verify CSS/properties backward compatibility

---

## Rollback Plan

If critical issues arise:
1. Revert repository name change (GitHub allows)
2. Release patch version with old name
3. Communicate issue to users

---

## Timeline

**Estimated effort:** 4-6 hours
- Code/docs updates: 2-3 hours
- Testing: 1-2 hours
- Repository/community updates: 1 hour

**Proposed release:** After community feedback period on Discussion #58

---

## Decisions

1. **Version bump: v0.19.0 (minor)**
   - Non-breaking change (all data, CSS, properties remain compatible)
   - v1.0.0 reserved for major feature completion or API stability milestone
   - v0.19.0 signals significant change without implying breaking changes

2. **Discussion monitoring: 24-48 hours**
   - Wait for community feedback on Discussion #58
   - Proceed if no major objections emerge
   - Can revisit if feedback comes later

3. **Preserve "Canvas Roots" for searchability: Yes, strategically**
   - Add "Formerly known as Canvas Roots" note in README
   - Include both "canvas-roots" and "charted-roots" in package.json keywords
   - Remove legacy references after 6-12 months once search rankings stabilize

---

## Related Documents

- [Community Discussion #58](https://github.com/banisterious/obsidian-canvas-roots/discussions/58)
- [Roadmap](../../wiki-content/Roadmap.md)

---

## Notes

- Name collision check performed: No existing "Charted Roots" tools found
- "Kinship Roots" rejected due to collision with KRN (Kinship Roots Narrative) standard
- Community feedback period ongoing in Discussion #58
